2019-03-10 14:01:12,987 db.py 28 is_card_exist DEBUG 查询卡: 112233445566 是否存在
2019-03-10 14:01:12,988 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='112233445566'
2019-03-10 14:01:13,009 db.py 16 query DEBUG 查询结果: (('112233445566',),)
2019-03-10 14:01:13,009 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 14:53:34,942 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 14:53:34,976 excel.py 14 get_data DEBUG 获取工作表: 添加加油卡 数据
2019-03-10 14:53:34,977 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 15:05:07,576 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 15:05:07,622 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 15:05:07,623 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 15:09:46,161 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 15:09:46,192 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 15:09:46,193 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:14:55,937 db.py 29 is_card_exist DEBUG 查询卡: 112233445566 是否存在
2019-03-10 16:14:55,938 db.py 14 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='112233445566'
2019-03-10 16:14:55,957 db.py 17 query DEBUG 查询结果: (('112233445566',),)
2019-03-10 16:14:55,957 db.py 33 is_card_exist DEBUG 该卡存在
2019-03-10 16:15:07,230 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:16:13,683 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:16:13,749 basecase.py 17 get_case_data INFO 执行用例: 添加加油卡:参数相同，重复添加 -------
2019-03-10 16:16:13,750 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:16:13,750 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:16:13,758 basecase.py 17 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 16:16:13,758 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:16:13,759 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:16:13,767 basecase.py 17 get_case_data INFO 执行用例: 添加加油卡:同一账号添加第2个加油卡 -------
2019-03-10 16:16:13,768 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:16:13,768 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:20:24,908 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:20:24,941 basecase.py 17 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 16:20:24,941 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:20:24,943 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:20:24,945 db.py 40 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:20:24,945 db.py 29 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:20:24,945 db.py 14 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:20:24,967 db.py 17 query DEBUG 查询结果: ()
2019-03-10 16:20:24,968 db.py 36 is_card_exist DEBUG 该卡不存在
2019-03-10 16:20:24,968 basecase.py 25 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:20:24,968 basecase.py 26 run_case INFO 请求数据: {"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}
2019-03-10 16:20:24,969 basecase.py 27 run_case INFO 期望结果: {"code":200,"msg":"添加卡成功","success": false}
2019-03-10 16:20:24,980 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:20:25,021 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:20:25,023 basecase.py 34 run_case INFO 实际结果: {"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual string, pos 0","success":false}
2019-03-10 16:23:20,012 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:23:20,056 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 16:23:20,057 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:23:20,057 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:23:20,062 db.py 40 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:23:20,062 db.py 29 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:23:20,062 db.py 14 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:23:20,083 db.py 17 query DEBUG 查询结果: ()
2019-03-10 16:23:20,083 db.py 36 is_card_exist DEBUG 该卡不存在
2019-03-10 16:23:20,087 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:23:20,087 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 16:23:20,088 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:23:20,108 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:23:20,160 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:23:20,162 basecase.py 35 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 16:24:05,270 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:24:05,320 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 16:24:05,320 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:24:05,321 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:24:05,324 db.py 40 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:24:05,324 db.py 29 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:24:05,325 db.py 14 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:24:05,343 db.py 17 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:24:05,343 db.py 33 is_card_exist DEBUG 该卡存在
2019-03-10 16:24:05,344 db.py 21 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='1234567890'
2019-03-10 16:24:05,370 db.py 44 del_card_if_exist DEBUG 删除成功
2019-03-10 16:24:05,370 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:24:05,370 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 16:24:05,371 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:24:05,380 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:24:05,425 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:24:05,427 basecase.py 35 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 16:24:05,428 db.py 29 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:24:05,428 db.py 14 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:24:05,449 db.py 17 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:24:05,450 db.py 33 is_card_exist DEBUG 该卡存在
2019-03-10 16:24:05,450 db.py 40 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:24:05,450 db.py 29 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:24:05,450 db.py 14 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:24:05,469 db.py 17 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:24:05,469 db.py 33 is_card_exist DEBUG 该卡存在
2019-03-10 16:24:05,469 db.py 21 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='1234567890'
2019-03-10 16:24:05,488 db.py 44 del_card_if_exist DEBUG 删除成功
2019-03-10 16:24:15,588 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:24:15,625 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:参数相同，重复添加 -------
2019-03-10 16:24:15,625 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:24:15,626 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:24:15,630 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:24:15,631 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '123456'}}
2019-03-10 16:24:15,631 basecase.py 28 run_case INFO 期望结果: {'code': 5000, 'msg': '该卡已添加', 'success': False}
2019-03-10 16:24:15,640 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:24:15,683 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:24:15,684 basecase.py 35 run_case INFO 实际结果: {"code":5000,"msg":"该卡已添加","success":false}
2019-03-10 16:24:21,629 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:24:21,661 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:同一账号添加第2个加油卡 -------
2019-03-10 16:24:21,661 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:24:21,662 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:24:21,665 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:24:21,665 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '0987654321'}}
2019-03-10 16:24:21,665 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:24:21,678 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:24:21,725 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:24:21,728 basecase.py 35 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 16:32:56,210 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:32:56,248 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 16:32:56,248 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:32:56,249 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:32:56,254 db.py 40 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:32:56,255 db.py 29 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:32:56,255 db.py 14 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:32:56,277 db.py 17 query DEBUG 查询结果: ()
2019-03-10 16:32:56,278 db.py 36 is_card_exist DEBUG 该卡不存在
2019-03-10 16:32:56,278 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:32:56,279 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 16:32:56,279 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:32:56,298 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:32:56,364 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:32:56,366 basecase.py 35 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 16:32:56,367 db.py 29 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:32:56,367 db.py 14 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:32:56,385 db.py 17 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:32:56,385 db.py 33 is_card_exist DEBUG 该卡存在
2019-03-10 16:32:56,385 db.py 40 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:32:56,385 db.py 29 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:32:56,385 db.py 14 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:32:56,405 db.py 17 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:32:56,405 db.py 33 is_card_exist DEBUG 该卡存在
2019-03-10 16:32:56,407 db.py 21 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='1234567890'
2019-03-10 16:32:56,439 db.py 44 del_card_if_exist DEBUG 删除成功
2019-03-10 16:44:47,465 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:44:47,520 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 16:44:47,520 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:44:47,521 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:44:47,523 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:44:47,523 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:44:47,523 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:44:47,543 db.py 16 query DEBUG 查询结果: ()
2019-03-10 16:44:47,543 db.py 35 is_card_exist DEBUG 该卡不存在
2019-03-10 16:44:47,544 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:44:47,544 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 16:44:47,544 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:44:47,559 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:44:47,605 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:44:47,610 basecase.py 35 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 16:44:47,611 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:44:47,611 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:44:47,630 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:44:47,631 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:44:47,631 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:44:47,631 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:44:47,631 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:44:47,649 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:44:47,649 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:44:47,649 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='1234567890'
2019-03-10 16:44:47,695 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 16:45:18,938 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:45:18,981 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:参数相同，重复添加 -------
2019-03-10 16:45:18,982 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:45:18,997 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:45:19,003 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:45:19,003 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '123456'}}
2019-03-10 16:45:19,003 basecase.py 28 run_case INFO 期望结果: {'code': 5000, 'msg': '该卡已添加', 'success': False}
2019-03-10 16:45:19,013 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:45:19,063 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:45:19,065 basecase.py 35 run_case INFO 实际结果: {"code":5000,"msg":"该卡已添加","success":false}
2019-03-10 16:45:19,067 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 16:45:19,069 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:45:19,070 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:45:19,072 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:45:19,072 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:45:19,073 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:45:19,091 db.py 16 query DEBUG 查询结果: ()
2019-03-10 16:45:19,091 db.py 35 is_card_exist DEBUG 该卡不存在
2019-03-10 16:45:19,092 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:45:19,092 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 16:45:19,092 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:45:19,096 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:45:19,143 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:45:19,145 basecase.py 35 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 16:45:19,146 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:45:19,146 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:45:19,164 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:45:19,165 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:45:19,165 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:45:19,165 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:45:19,166 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:45:19,186 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:45:19,186 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:45:19,187 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='1234567890'
2019-03-10 16:45:19,215 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 16:45:19,217 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:同一账号添加第2个加油卡 -------
2019-03-10 16:45:19,217 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:45:19,218 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:45:19,220 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:45:19,220 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '0987654321'}}
2019-03-10 16:45:19,220 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:45:19,224 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:45:19,267 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:45:19,269 basecase.py 35 run_case INFO 实际结果: {"code":5000,"msg":"该卡已添加","success":false}
2019-03-10 16:48:19,367 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:48:19,405 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:参数相同，重复添加 -------
2019-03-10 16:48:19,406 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:48:19,406 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:48:19,410 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:48:19,410 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '123456'}}
2019-03-10 16:48:19,410 basecase.py 28 run_case INFO 期望结果: {'code': 5000, 'msg': '该卡已添加', 'success': False}
2019-03-10 16:48:19,423 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:48:19,468 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:48:19,470 basecase.py 35 run_case INFO 实际结果: {"code":5000,"msg":"该卡已添加","success":false}
2019-03-10 16:48:19,472 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 16:48:19,472 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:48:19,473 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:48:19,474 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:48:19,474 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:48:19,474 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:48:19,494 db.py 16 query DEBUG 查询结果: ()
2019-03-10 16:48:19,494 db.py 35 is_card_exist DEBUG 该卡不存在
2019-03-10 16:48:19,495 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:48:19,495 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 16:48:19,495 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:48:19,504 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:48:19,548 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:48:19,549 basecase.py 35 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 16:48:19,550 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:48:19,550 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:48:19,570 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:48:19,571 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:48:19,571 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:48:19,571 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:48:19,571 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:48:19,590 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:48:19,590 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:48:19,590 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='1234567890'
2019-03-10 16:48:19,618 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 16:48:19,620 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:同一账号添加第2个加油卡 -------
2019-03-10 16:48:19,620 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:48:19,620 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:48:19,621 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:48:19,621 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '0987654321'}}
2019-03-10 16:48:19,621 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:48:19,625 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:48:19,665 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:48:19,667 basecase.py 35 run_case INFO 实际结果: {"code":5000,"msg":"该卡已添加","success":false}
2019-03-10 16:49:25,674 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 16:49:25,717 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:参数相同，重复添加 -------
2019-03-10 16:49:25,718 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:49:25,719 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:49:25,720 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:49:25,721 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '123456'}}
2019-03-10 16:49:25,721 basecase.py 28 run_case INFO 期望结果: {'code': 5000, 'msg': '该卡已添加', 'success': False}
2019-03-10 16:49:25,730 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:49:25,780 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:49:25,783 basecase.py 35 run_case INFO 实际结果: {"code":5000,"msg":"该卡已添加","success":false}
2019-03-10 16:49:25,793 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 16:49:25,794 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:49:25,795 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:49:25,801 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:49:25,802 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:49:25,802 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:49:25,830 db.py 16 query DEBUG 查询结果: ()
2019-03-10 16:49:25,831 db.py 35 is_card_exist DEBUG 该卡不存在
2019-03-10 16:49:25,831 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:49:25,832 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 16:49:25,832 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:49:25,841 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:49:25,895 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:49:25,898 basecase.py 35 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 16:49:25,898 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:49:25,900 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:49:25,922 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:49:25,922 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:49:25,922 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 16:49:25,922 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 16:49:25,922 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 16:49:25,944 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 16:49:25,945 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:49:25,946 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='1234567890'
2019-03-10 16:49:25,976 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 16:49:25,978 basecase.py 18 get_case_data INFO 执行用例: 添加加油卡:同一账号添加第2个加油卡 -------
2019-03-10 16:49:25,978 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 16:49:25,978 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 16:49:25,979 db.py 39 del_card_if_exist DEBUG 删除卡: 0987654321
2019-03-10 16:49:25,979 db.py 28 is_card_exist DEBUG 查询卡: 0987654321 是否存在
2019-03-10 16:49:25,979 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='0987654321'
2019-03-10 16:49:25,997 db.py 16 query DEBUG 查询结果: (('0987654321',),)
2019-03-10 16:49:25,997 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:49:25,998 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='0987654321'
2019-03-10 16:49:26,019 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 16:49:26,020 basecase.py 26 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 16:49:26,020 basecase.py 27 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '0987654321'}}
2019-03-10 16:49:26,021 basecase.py 28 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 16:49:26,024 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 16:49:26,076 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 16:49:26,078 basecase.py 35 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 16:49:26,078 db.py 39 del_card_if_exist DEBUG 删除卡: 0987654321
2019-03-10 16:49:26,078 db.py 28 is_card_exist DEBUG 查询卡: 0987654321 是否存在
2019-03-10 16:49:26,078 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='0987654321'
2019-03-10 16:49:26,097 db.py 16 query DEBUG 查询结果: (('0987654321',),)
2019-03-10 16:49:26,097 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 16:49:26,097 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='0987654321'
2019-03-10 16:49:26,120 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 17:19:28,621 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:19:28,646 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:19:28,648 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:19:42,013 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:19:42,054 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:19:42,054 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:19:42,076 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:19:42,157 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:22:28,213 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:22:28,255 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:22:28,255 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:22:28,270 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:22:28,316 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:25:42,495 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:25:42,538 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:25:42,538 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:25:42,548 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:25:42,598 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:27:18,056 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:27:18,121 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:27:18,121 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:27:18,140 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:27:18,191 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:32:55,827 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:32:55,873 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:32:55,874 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:32:55,904 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:32:55,953 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:38:50,230 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:38:50,269 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:38:50,270 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:38:50,293 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:38:50,335 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:41:38,442 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:41:38,517 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:41:38,517 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:41:38,537 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:41:38,587 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:44:06,233 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:44:06,271 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:44:06,275 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:44:06,287 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:44:06,332 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:44:55,432 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:44:55,471 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:44:55,473 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:44:55,482 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:44:55,561 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:46:30,351 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:46:30,397 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:46:30,397 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正常': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:46:30,419 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:46:30,471 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:49:05,977 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:49:05,999 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:49:06,000 excel.py 24 get_data DEBUG 工作表数据: {'正常查询': {'编号': 1.0, '用例模块': '查询加油卡信息', '功能点': '查询添加未充值消费的加油卡', '用例名称': '正常查询', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"0","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":[],"rechargeDetails":[]},"success":true}', '测试结果': ''}, '接口、参数正常2': {'编号': 2.0, '用例模块': '查询加油卡信息', '功能点': '查询充值成功的加油卡', '用例名称': '接口、参数正常2', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"充值成功","result":{"cardBalance":"20000","cardNumber":"0987654321","cardStatus":5010,"id":78475776,"userId":6786},"success":true}', '测试结果': ''}, '接口、参数正常3': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常3', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:49:06,027 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:49:06,075 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 17:49:48,602 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 17:49:48,690 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 17:49:48,691 excel.py 24 get_data DEBUG 工作表数据: {'正常查询': {'编号': 1.0, '用例模块': '查询加油卡信息', '功能点': '查询添加未充值消费的加油卡', '用例名称': '正常查询', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=10092&cardNumber=19901220&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"0","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":[],"rechargeDetails":[]},"success":true}', '测试结果': ''}, '接口、参数正常2': {'编号': 2.0, '用例模块': '查询加油卡信息', '功能点': '查询充值成功的加油卡', '用例名称': '接口、参数正常2', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"充值成功","result":{"cardBalance":"20000","cardNumber":"0987654321","cardStatus":5010,"id":78475776,"userId":6786},"success":true}', '测试结果': ''}, '接口、参数正常3': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常3', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 17:49:48,715 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 17:49:48,768 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=10092&cardNumber=19901220&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 18:03:39,268 run.py 11 main INFO ========================= 测试开始 =========================
2019-03-10 18:03:39,325 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 18:03:39,359 basecase.py 15 get_case_data INFO 执行用例: 添加加油卡:参数相同，重复添加 -------
2019-03-10 18:03:39,359 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 18:03:39,360 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 18:03:39,362 basecase.py 23 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 18:03:39,362 basecase.py 24 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '123456'}}
2019-03-10 18:03:39,363 basecase.py 25 run_case INFO 期望结果: {'code': 5000, 'msg': '该卡已添加', 'success': False}
2019-03-10 18:03:39,371 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 18:03:39,415 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 18:03:39,417 basecase.py 32 run_case INFO 实际结果: {"code":5000,"msg":"该卡已添加","success":false}
2019-03-10 18:03:39,420 basecase.py 15 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 18:03:39,421 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 18:03:39,421 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 18:03:39,426 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 18:03:39,426 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 18:03:39,427 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 18:03:39,447 db.py 16 query DEBUG 查询结果: ()
2019-03-10 18:03:39,447 db.py 35 is_card_exist DEBUG 该卡不存在
2019-03-10 18:03:39,447 basecase.py 23 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 18:03:39,447 basecase.py 24 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 18:03:39,447 basecase.py 25 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 18:03:39,450 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 18:03:39,500 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 18:03:39,504 basecase.py 32 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 18:03:39,505 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 18:03:39,505 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 18:03:39,523 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 18:03:39,524 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 18:03:39,524 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 18:03:39,524 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 18:03:39,525 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 18:03:39,541 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 18:03:39,541 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 18:03:39,542 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='1234567890'
2019-03-10 18:03:39,569 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 18:03:39,569 basecase.py 15 get_case_data INFO 执行用例: 添加加油卡:同一账号添加第2个加油卡 -------
2019-03-10 18:03:39,570 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 18:03:39,570 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 18:03:39,575 db.py 39 del_card_if_exist DEBUG 删除卡: 0987654321
2019-03-10 18:03:39,575 db.py 28 is_card_exist DEBUG 查询卡: 0987654321 是否存在
2019-03-10 18:03:39,575 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='0987654321'
2019-03-10 18:03:39,599 db.py 16 query DEBUG 查询结果: ()
2019-03-10 18:03:39,599 db.py 35 is_card_exist DEBUG 该卡不存在
2019-03-10 18:03:39,599 basecase.py 23 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 18:03:39,599 basecase.py 24 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '0987654321'}}
2019-03-10 18:03:39,600 basecase.py 25 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 18:03:39,603 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 18:03:39,656 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 18:03:39,657 basecase.py 32 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 18:03:39,658 db.py 39 del_card_if_exist DEBUG 删除卡: 0987654321
2019-03-10 18:03:39,658 db.py 28 is_card_exist DEBUG 查询卡: 0987654321 是否存在
2019-03-10 18:03:39,658 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='0987654321'
2019-03-10 18:03:39,679 db.py 16 query DEBUG 查询结果: (('0987654321',),)
2019-03-10 18:03:39,679 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 18:03:39,679 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='0987654321'
2019-03-10 18:03:39,698 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 18:03:39,701 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 18:03:39,768 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 18:03:39,769 excel.py 24 get_data DEBUG 工作表数据: {'正常查询': {'编号': 1.0, '用例模块': '查询加油卡信息', '功能点': '查询添加未充值消费的加油卡', '用例名称': '正常查询', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=10092&cardNumber=19901220&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"0","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":[],"rechargeDetails":[]},"success":true}', '测试结果': ''}, '接口、参数正常2': {'编号': 2.0, '用例模块': '查询加油卡信息', '功能点': '查询充值成功的加油卡', '用例名称': '接口、参数正常2', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"充值成功","result":{"cardBalance":"20000","cardNumber":"0987654321","cardStatus":5010,"id":78475776,"userId":6786},"success":true}', '测试结果': ''}, '接口、参数正常3': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常3', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 18:03:39,782 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 18:03:39,833 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=10092&cardNumber=19901220&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 18:03:39,975 run.py 16 main INFO ========================= 测试结束 =========================
2019-03-10 18:04:10,502 run.py 11 main INFO ========================= 测试开始 =========================
2019-03-10 18:04:10,576 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 18:04:10,608 basecase.py 15 get_case_data INFO 执行用例: 添加加油卡:参数相同，重复添加 -------
2019-03-10 18:04:10,608 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 18:04:10,608 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 18:04:10,610 basecase.py 23 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 18:04:10,610 basecase.py 24 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '123456'}}
2019-03-10 18:04:10,611 basecase.py 25 run_case INFO 期望结果: {'code': 5000, 'msg': '该卡已添加', 'success': False}
2019-03-10 18:04:10,618 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 18:04:10,665 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 18:04:10,667 basecase.py 32 run_case INFO 实际结果: {"code":5000,"msg":"该卡已添加","success":false}
2019-03-10 18:04:10,668 basecase.py 15 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 18:04:10,668 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 18:04:10,669 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 18:04:10,670 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 18:04:10,670 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 18:04:10,670 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 18:04:10,690 db.py 16 query DEBUG 查询结果: ()
2019-03-10 18:04:10,690 db.py 35 is_card_exist DEBUG 该卡不存在
2019-03-10 18:04:10,691 basecase.py 23 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 18:04:10,691 basecase.py 24 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 18:04:10,692 basecase.py 25 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 18:04:10,699 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 18:04:10,744 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 18:04:10,746 basecase.py 32 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 18:04:10,746 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 18:04:10,747 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 18:04:10,764 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 18:04:10,764 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 18:04:10,764 db.py 39 del_card_if_exist DEBUG 删除卡: 1234567890
2019-03-10 18:04:10,765 db.py 28 is_card_exist DEBUG 查询卡: 1234567890 是否存在
2019-03-10 18:04:10,765 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='1234567890'
2019-03-10 18:04:10,790 db.py 16 query DEBUG 查询结果: (('1234567890',),)
2019-03-10 18:04:10,790 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 18:04:10,790 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='1234567890'
2019-03-10 18:04:10,822 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 18:04:10,823 basecase.py 15 get_case_data INFO 执行用例: 添加加油卡:同一账号添加第2个加油卡 -------
2019-03-10 18:04:10,823 excel.py 14 get_data DEBUG 获取工作表: '添加加油卡' 数据
2019-03-10 18:04:10,823 excel.py 24 get_data DEBUG 工作表数据: {'接口、参数正确': {'编号': 1.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '接口、参数正确', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '数据库cardinfo表中无cardNumber为1234567890', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success": false}', '测试结果': ''}, '参数相同，重复添加': {'编号': 2.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '参数相同，重复添加', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"123456"}}', '预期结果': '{"code":5000,"msg":"该卡已添加","success":false}', '测试结果': ''}, '同一账号添加第2个加油卡': {'编号': 3.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第2个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"0987654321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '同一账号添加第3个加油卡': {'编号': 4.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '同一账号添加第3个加油卡', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"6789054321"}}', '预期结果': '{"code":200,"msg":"添加卡成功","success":false}', '测试结果': ''}, '入参格式错误': {'编号': 5.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '入参格式错误', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"参数类型错误com.alibaba.fastjson.JSONException: syntax error, expect {, actual int, pos 0","success":false}', '测试结果': ''}, '缺少参数-缺少第三方账号': {'编号': 6.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方账号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台账号参数\n{"dataSourceId":"","methodId":"00A","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"第三方平台ID不能为空!","object":{"cardInfo":{"cardNumber":"1234567890","cardStatus":0,"userId":0},"dataSourceId":"","methodId":"00A"},"success":false}', '测试结果': ''}, '缺少参数-缺少第三方业务': {'编号': 7.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少第三方业务', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少第三方平台业务参数\n{"dataSourceId":"bHRz","methodId":"","CardInfo":{"cardNumber":"1234567890"}}', '预期结果': '{"code":301,"msg":"业务ID不能为空!","success":false}', '测试结果': ''}, '缺少参数-缺少卡号': {'编号': 8.0, '用例模块': '添加加油卡', '功能点': '向平台数据库添加加油卡', '用例名称': '缺少参数-缺少卡号', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process', '方法': 'POST', '预置条件': '', '入参': '入参异常：缺少卡号\n{"dataSourceId":"bHRz","methodId":"00A","CardInfo":{"cardNumber":""}}', '预期结果': '提示卡号不能为空', '测试结果': ''}}
2019-03-10 18:04:10,828 db.py 39 del_card_if_exist DEBUG 删除卡: 0987654321
2019-03-10 18:04:10,829 db.py 28 is_card_exist DEBUG 查询卡: 0987654321 是否存在
2019-03-10 18:04:10,829 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='0987654321'
2019-03-10 18:04:10,850 db.py 16 query DEBUG 查询结果: ()
2019-03-10 18:04:10,850 db.py 35 is_card_exist DEBUG 该卡不存在
2019-03-10 18:04:10,851 basecase.py 23 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 18:04:10,851 basecase.py 24 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '0987654321'}}
2019-03-10 18:04:10,852 basecase.py 25 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 18:04:10,857 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 18:04:10,903 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "POST /gasStation/process HTTP/1.1" 200 None
2019-03-10 18:04:10,905 basecase.py 32 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 18:04:10,905 db.py 39 del_card_if_exist DEBUG 删除卡: 0987654321
2019-03-10 18:04:10,906 db.py 28 is_card_exist DEBUG 查询卡: 0987654321 是否存在
2019-03-10 18:04:10,906 db.py 13 query DEBUG 查询SQL: select cardNumber from cardinfo where cardNumber='0987654321'
2019-03-10 18:04:10,926 db.py 16 query DEBUG 查询结果: (('0987654321',),)
2019-03-10 18:04:10,926 db.py 32 is_card_exist DEBUG 该卡存在
2019-03-10 18:04:10,926 db.py 20 execute DEBUG 执行SQL: delete from cardinfo where cardNumber='0987654321'
2019-03-10 18:04:10,946 db.py 43 del_card_if_exist DEBUG 删除成功
2019-03-10 18:04:10,946 excel.py 10 __init__ DEBUG 打开Excel: D:\Projects\test\15期\接口测试\day04\data\加油卡完整用例.xls
2019-03-10 18:04:11,008 excel.py 14 get_data DEBUG 获取工作表: '查询' 数据
2019-03-10 18:04:11,009 excel.py 24 get_data DEBUG 工作表数据: {'正常查询': {'编号': 1.0, '用例模块': '查询加油卡信息', '功能点': '查询添加未充值消费的加油卡', '用例名称': '正常查询', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=10092&cardNumber=19901220&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"0","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":[],"rechargeDetails":[]},"success":true}', '测试结果': ''}, '接口、参数正常2': {'编号': 2.0, '用例模块': '查询加油卡信息', '功能点': '查询充值成功的加油卡', '用例名称': '接口、参数正常2', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"充值成功","result":{"cardBalance":"20000","cardNumber":"0987654321","cardStatus":5010,"id":78475776,"userId":6786},"success":true}', '测试结果': ''}, '接口、参数正常3': {'编号': 3.0, '用例模块': '查询加油卡信息', '功能点': '查询消费成功的加油卡', '用例名称': '接口、参数正常3', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=1234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":200,"msg":"成功返回","result":{"cardBalance":"10001","cardNumber":"1234567890","cardStatus":"已经被绑定,正常使用中","consumptionDetails":["消费金额:-5001,时间:2018-08-29 12:29:39","消费金额:5000,时间:2018-08-29 11:51:58"],"rechargeDetails":["充值金额:10000,时间:2018-08-29 11:11:26"]},"success":true}', '测试结果': ''}, 'cardNumber存在': {'编号': 4.0, '用例模块': '查询加油卡信息', '功能点': '查询的卡号不存在', '用例名称': 'cardNumber存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=6786&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'userId不存在': {'编号': 5.0, '用例模块': '查询加油卡信息', '功能点': '查询的用户不存在', '用例名称': 'userId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}, 'datasuorceId不存在': {'编号': 6.0, '用例模块': '查询加油卡信息', '功能点': '第三方账号不存在', '用例名称': 'datasuorceId不存在', '协议': 'http', '接口地址(名称)URL': 'http://115.28.108.130:8080/gasStation/process?methodId=02A&userId=0000&cardNumber=2234567890&dataSourceId=bHRz0', '方法': 'GET', '入参': '', '预期结果': '{"code":400,"msg":"无查询信息","success":false}', '测试结果': ''}}
2019-03-10 18:04:11,016 connectionpool.py 208 _new_conn DEBUG Starting new HTTP connection (1): 115.28.108.130
2019-03-10 18:04:11,062 connectionpool.py 396 _make_request DEBUG http://115.28.108.130:8080 "GET /gasStation/process?methodId=02A&userId=10092&cardNumber=19901220&dataSourceId=bHRz HTTP/1.1" 200 None
2019-03-10 18:04:11,133 run.py 17 main INFO ========================= 测试结束 =========================
2019-03-10 18:06:23,165 run.py 11 main INFO ========================= 测试开始 =========================
2019-03-10 18:06:23,272 basecase.py 15 get_case_data INFO 执行用例: 添加加油卡:参数相同，重复添加 -------
2019-03-10 18:06:23,273 basecase.py 23 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 18:06:23,273 basecase.py 24 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '123456'}}
2019-03-10 18:06:23,274 basecase.py 25 run_case INFO 期望结果: {'code': 5000, 'msg': '该卡已添加', 'success': False}
2019-03-10 18:06:23,341 basecase.py 32 run_case INFO 实际结果: {"code":5000,"msg":"该卡已添加","success":false}
2019-03-10 18:06:23,342 basecase.py 15 get_case_data INFO 执行用例: 添加加油卡:接口、参数正确 -------
2019-03-10 18:06:23,361 basecase.py 23 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 18:06:23,361 basecase.py 24 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '1234567890'}}
2019-03-10 18:06:23,361 basecase.py 25 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 18:06:23,414 basecase.py 32 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 18:06:23,483 basecase.py 15 get_case_data INFO 执行用例: 添加加油卡:同一账号添加第2个加油卡 -------
2019-03-10 18:06:23,504 basecase.py 23 run_case INFO 请求Url: http://115.28.108.130:8080/gasStation/process
2019-03-10 18:06:23,504 basecase.py 24 run_case INFO 请求数据: {'dataSourceId': 'bHRz', 'methodId': '00A', 'CardInfo': {'cardNumber': '0987654321'}}
2019-03-10 18:06:23,504 basecase.py 25 run_case INFO 期望结果: {'code': 200, 'msg': '添加卡成功', 'success': False}
2019-03-10 18:06:23,551 basecase.py 32 run_case INFO 实际结果: {"code":200,"msg":"添加卡成功","success":false}
2019-03-10 18:06:23,745 run.py 17 main INFO ========================= 测试结束 =========================
